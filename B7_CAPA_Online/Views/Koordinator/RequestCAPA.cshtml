@using B7_CAPA_Online.Models
@model DALModel
<div class="card">
    <div class="card-body">
        <!--form class="needs-validation"-->
        @using (Html.BeginForm("InsertCAPA", "Koordinator", FormMethod.Post, new { enctype = "multipart/form-data", @class = "needs-validation" }))
        {
            if (!string.IsNullOrEmpty(Request.QueryString["CAPA"]))
            {
                <div class="card">
                    <div class="card-body">
                        <!--form class="needs-validation"-->
                        @using (Html.BeginForm("InsertCAPA", "Koordinator", FormMethod.Post, new { enctype = "multipart/form-data", @class = "needs-validation" }))
                        {
                            <div class="row form-group-sm mb-2">
                                <div class="col-md-6">
                                    <label class="m-t-20">Trigger CAPA<span style="color: red">*</span></label>
                                    <select class="form-control form-control-sm" id="Static_Trigger_CAPA" name="TriggerCAPA" required disabled>
                                    </select>
                                    @Html.HiddenFor(m => m.TriggerCAPA)
                                </div>
                            </div>
                            @*<div class="row form-group" id="Linked_Deviation" hidden>
                                    <div class="col-md-6">
                                        <label class="m-t-20">Penyimpangan Terkait</label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <button class="btn btn-outline-dark" type="button" data-toggle="modal" data-target="#link_Deviation">Browse</button>
                                            </div>
                                            <input type="text" class="form-control" id="TxtDeviation" name="TxtDeviation">
                                            <input type="text" class="form-control" name="PenyimpanganTerkait" id="PenyimpanganTerkait" value="" hidden>
                                            @Html.HiddenFor(m => m.PenyimpanganTerkait)
                                        </div>
                                    </div>
                                </div>*@
                            <div class="row form-group-sm" id="List_Penyimpangan">
                                <div class="col-md-6">
                                    <label class="m-t-20">List Penyimpangan</label>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered zero-configuration" id="Tbl_Penyimpangan">
                                            <thead>
                                                <tr>
                                                    <th>Penyimpangan</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="row form-group" id="Linked_CCC" hidden>
                                <div class="col-md-6">
                                    <label class="m-t-40">Keluhan Pelanggan Terkait</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <button class="btn btn-outline-dark" type="button" data-toggle="modal" data-target="#link_CCC">Browse</button>
                                        </div>
                                        <input type="text" class="form-control" id="TxtCCC" name="TxtCCC">
                                        <input type="text" class="form-control" name="KeluhanTerkait" id="KeluhanTerkait" value="" hidden>
                                        @Html.HiddenFor(m => m.KeluhanTerkait)
                                    </div>
                                </div>
                            </div>
                            <div class="row form-group" id="Linked_Oracle" hidden>
                                <div class="col-md-6">
                                    <label class="m-t-20">No. QC terkait ATB/PMTMS/FKM</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <button class="btn btn-outline-dark" type="button" data-toggle="modal" data-target="#link_Oracle">Browse</button>
                                        </div>
                                        <input type="text" class="form-control" id="TxtOracle" name="TxtOracle">
                                        <input type="text" class="form-control" name="No_QC_Terkait" value="" hidden>
                                        @Html.HiddenFor(m => m.No_QC_Terkait)
                                    </div>
                                </div>
                            </div>
                            @*<div class="row form-group-sm mb-2">
                                    <div class="col-md-6">
                                        <label class="m-t-20">Lampiran Terkait</label>
                                        <div class="input-group mb-3">
                                            <div class="custom-file">
                                                <input id="TxtFileInput" type="file" name="LampiranTerkait" class="custom-file-input" multiple required>
                                                @Html.HiddenFor(m => m.LampiranTerkait)
                                                <label class="custom-file-label">Choose File</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>*@
                            <div class="row form-group-sm" id="List_Lampiran">
                                <div class="col-md-6">
                                    <label class="m-t-20">List Lampiran</label>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered zero-configuration" id="Tbl_Lampiran">
                                            <thead>
                                                <tr>
                                                    <th>Lampiran</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="row form-group-sm mb-2">
                                <div class="col-md-6">
                                    <label class="m-t-20">Kategori</label>
                                    <select class="form-control form-control-sm" id="Kategori_DDL" name="KategoriCAPA" required disabled>
                                        <option>Option 1</option>
                                        <option>Option 2</option>
                                        <option>Option 3</option>
                                    </select>
                                    @Html.HiddenFor(m => m.KategoriCAPA)
                                </div>
                            </div>
                            <div class="row form-group-sm">
                                <div class="col-md-6">
                                    <label class="m-t-20">Deskripsi Masalah<span style="color: red">*</span></label>
                                    <textarea id="TxtDeskripsi" type="text" class="form-control" name="Deskripsi" placeholder="Deskripsi" rows="3" required readonly></textarea>
                                    @Html.HiddenFor(m => m.Deskripsi)
                                </div>
                            </div>
                            <div class="row form-group-sm mb-2">
                                <div class="col-md-6">
                                    <label class="m-t-20">Lokasi</label>
                                    <select class="form-control form-control-sm" id="Lokasi_DDL" name="Lokasi" required disabled>
                                        <option>Option 1</option>
                                        <option>Option 2</option>
                                        <option>Option 3</option>
                                    </select>
                                    @Html.HiddenFor(m => m.Lokasi)
                                </div>
                                <div class="col-md-4">
                                    <label class="m-t-20">Area PIC CAPA<span style="color: red">*</span></label>
                                    <select class="form-control" id="AreaPIC_DDL" name="AreaPIC" required disabled>
                                    </select>
                                    @Html.HiddenFor(m => m.AreaPIC)
                                </div>
                            </div>
                            <div class="row form-group-sm mb-4">
                                <div class="col-md-6">
                                    <label class="m-t-20">Bagian terkait yang perlu melakukan tindakan perbaikan dan atau pencegahan<span style="color: red">*</span></label>
                                    <div class="input-group" hidden>
                                        <select class="form-control select2" id="Departemen_DDL" required>
                                        </select>
                                        <div class="input-group-append" style="padding-left:10px">
                                            <button class="btn btn-outline-dark rounded btn-sm" type="button" id="btn_Add">Add</button>
                                        </div>
                                    </div>
                                    <label>@ViewBag.Message</label>
                                </div>
                                <div class="col-md-4">
                                    <label class="m-t-20">PIC CAPA<span style="color: red">*</span></label>
                                    <select class="form-control form-control-sm" id="PIC_DDL" name="PIC_CAPA" required disabled>
                                    </select>
                                    @Html.HiddenFor(m => m.PIC_CAPA)
                                </div>
                            </div>
                            <div class="row form-group-sm" id="List_Departemen">
                                <div class="col-md-6">
                                    <label class="m-t-20">List Departemen Terkait</label>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered zero-configuration" id="Table_Departemen">
                                            <thead>
                                                <tr>
                                                    <th>Departemen</th>

                                                </tr>
                                            </thead>
                                            <tbody id="Tbl_Departemen">
                                                <tr>
                                                </tr>
                                            </tbody>
                                        </table>
                                        @Html.HiddenFor(m => m.DepartemenCollection, new { id = "myObj", value = "" })
                                        @Html.HiddenFor(m => m.PenyimpanganCollection, new { id = "PenyimpanganNumber", value = "" })
                                    </div>
                                </div>
                                <div class="col-md-4" id="VendorDiv" hidden>
                                    <label class="m-t-40">Data Vendor</label>
                                    <div class="input-group mb-3 ">
                                        <div class="input-group-prepend">
                                            <button class="btn btn-outline-dark btn-sm" type="button" data-toggle="modal" data-target="#link_Vendor">Browse</button>
                                        </div>
                                        <input type="text" class="form-control" id="TxtVendor" name="TxtVendor">
                                        <input type="text" class="form-control" name="Vendor" id="Vendor" value="" hidden>
                                    </div>
                                </div>
                            </div>

                            @*<div class="row form-group-sm">
                                    <div class="col-md-6">
                                        <label class="m-t-20">Nama Vendor</label>
                                        <input class="form-control form-control-sm" type="text" id="input_Vendor">
                                        <label class="m-t-40">Nama Personil</label>
                                        <input class="form-control form-control-sm" type="text" id="input_Personil">
                                        <label class="m-t-40">Email</label>
                                        <input class="form-control form-control-sm" type="email" id="input_Email">
                                    </div>
                                </div>*@
                            @*<div class="row form-group-sm">
                                    <div class="col-md-6 mt-1">
                                        <input class="btn mb-1 btn-primary" type="submit" id="btn_Submit" onclick="validateInput();" />
                                    </div>
                                </div>*@
                        }
                        <!--/form-->
                    </div>
                </div>
                <input type="text" value="@Request.QueryString["CAPA"].ToString()" id="QS_CAPA" hidden />
                <input type="text" value="@Request.QueryString["REG"].ToString()" id="QS_REG" hidden />
            }
        }
        <!--/form-->
    </div>
</div>


